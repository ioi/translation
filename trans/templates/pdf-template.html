<!DOCTYPE html>
{% load static %}
<html>

<head>
    <meta charset="utf-8">
    <title>{{title}}</title>

    <link rel="stylesheet" href="/static/libs/markdown/katex.css">
    <link rel="stylesheet" href="/static/css/markdown.css">
    <link rel="stylesheet" href="/user/font.css">
    <link rel="stylesheet" href="/static/css/pdf.css">

    <script type="text/javascript" src="/static/libs/jquery/jquery-3.1.1.min.js"></script>
    <script type="text/javascript" src="/static/libs/markdown/marked.js"></script>
    <script type="text/javascript" src="/static/js/init-marked.js"></script>
    <script type="text/javascript" src="/static/libs/markdown/katex.js"></script>
    <script type="text/javascript" src="/static/libs/markdown/auto-render.min.js"></script>

</head>

<body>
    <div class="markdown-body pdf">
        <div class="header">
            <div class="logo">
                <img src="/static/img/IOI-2017.svg" />
            </div>
            <div class="text">
                <h1>International Olympiad in Informatics 2017</h1>
                <div>July 28 &ndash; August 4, 2017</div>
                <div>Tehran, Iran</div>
                <div>{{contest}} Tasks</div>
            </div>
            <div class="meta">
                <div class="print">
                    <button type="button" onclick="sendPrintRequest()">Print</button>
                </div>
                <h1>{{task_name}}</h1>
                <h2>Language: {{language}}-{{country}}</h2>
            </div>
            <div style="clear: both;"></div>
            <hr>
        </div>
        <div id="left_ltr_plain_text_box" style="display: none">{{content}}</div>
        <div id="rendered_content" style="direction:{{direction}}"></div>
    </div>
</body>
<script>

    $(document).ready(function() {
        text = $('#left_ltr_plain_text_box').text();
        $('#rendered_content').html(marked(text));
        renderMathInElement(document.getElementById('rendered_content'));
    });
    
    function sendPrintRequest() {
        if (false) // TODO: check if local print disabled
            window.print();
        else if (confirm('Send this page to printer?')) {
            // TODO: send print request
            alert('Print request submitted.\n\nPrinted sheets will be delivered to you shortly.', );
        }
    }
    
</script>

</html>
